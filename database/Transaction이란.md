# Transaction 이란 무엇일까?
## Transaction
Transaction 이란, **데이터베이스의 데이터를 조작하는 작업의 단위(unit of work)** 입니다.<br/>
은행에서 쓰는 송금으로 예를들면, 송금은 _1. 보내는 사람의 계좌에서 돈을 빼고_, _2. 받는 사람의 계좌에 돈을 추가_ 하는 두가지 행위가 묶인 하나의 작업입니다.

Transaction은 흔히 이론적으로 `ACID` 원칙을 만족/보장 해야 한다고 말합니다.<br/>
여기서 `ACID` 란, `Atomicity(원자성)`, `Consistency(일관성)`, `Isolation(독립성)`, `Durability(영구성)` 를 뜻합니다.
<br/>각 원칙은 아래와 같은 성질을 의미합니다.
<br>

- **Atomicity(원자성)**
  만약 Transaction 중간에 어떠한 문제가 발생한다면 트랜잭션에 해당하는 어떠한 작업 내용도 수행되어서는 안되며 아무런 문제가 발생되지 않았을 경우에만 모든 작업이 수행되어야 한다.
  <br>즉, Transaction 작업이 부분적으로 성공하는 일이 없도록 보장하는 성질입니다. 송금하는 사람의 계좌에서 돈은 빠져나갔는데 받는 사람의 계좌에 돈이 들어오지 않는 일이 없도록!

<br>

- **Consistency(일관성)**
  Transaction이 완료된 다음의 상태에서도 Transaction이 일어나기 전의 상황과 동일하게 데이터의 일관성을 보장해야 한다.
  <br>즉 Transaction이 끝날 때 DB의 여러 제약 조건에 맞는 상태를 보장하는 성질입니다. 송금하는 사람의 계좌 잔고가 0보다 작아지면 안 됩니다!

<br>

- **Isolation(독립성)**
  각각의 Transaction은 서로 간섭없이 독립적으로 수행되어야 한다.
  <br>즉 Transaction이 진행되는 중간상태의 데이터를 다른 Transaction이 볼 수 없도록 보장하는 성질입니다. 송금하는 사람의 계좌에서 돈은 빠져나갔는데 받는 사람의 계좌에 돈이 아직 들어가지 않은 DB의 상황을 다른 Transaction이 읽으면 안 됩니다.

<br>

- **Durability(영구성)**
  Transaction이 정상적으로 종료된 다음에는 영구적으로 데이터베이스에 작업의 결과가 저장되어야 한다.
  <br>Transaction이 성공했을 경우 해당 결과가 영구적으로 적용됨을 보장하는 성질입니다. 한번 송금이 성공하면 은행 시스템에 장애가 발생하더라도 송금이 성공한 상태로 복구할 수 있어야 합니다.